<script setup lang="ts">
import CardInfoItem from '@/components/widget/CardInfoItem.vue'
import MyCard from '@/components/widget/MyCard.vue'
import PlainTextInfoItem from '@/components/widget/PlainTextInfoItem.vue'
import picLongTengMaoYue from '@/assets/pictures/é¾™è…¾çŒ«è·ƒå¤´åƒ.jpg'
import picPCLProto from '/PCL.Proto.svg?url'

declare const __APP_VERSION__: string
const version = __APP_VERSION__

const isElectron = window && window.process && window.process.type
const shell = isElectron ? (window.electron?.shell || require('electron').shell) : null

const openExternal = (url: string) => {
  const cleanUrl = url.trim()
  if (shell) {
    shell.openExternal(cleanUrl)
  } else {
    window.open(cleanUrl, '_blank', 'noopener,noreferrer')
  }
}
</script>

<template lang="pug">
  MyCard
    template(#title) å…³äºŽ
    template(#content)
      CardInfoItem(
        :icon="picLongTengMaoYue"
        title="é¾™è…¾çŒ«è·ƒ"
        subtitle="Plain Craft Launcher çš„åŽŸä½œè€…ï¼"
        infoType="about"
        :btn="{ text: 'èµžåŠ©ä½œè€…', link: 'https://afdian.com/a/LTCat' }"
        @btn-click="() => openExternal('https://afdian.com/a/LTCat')"
      )
      CardInfoItem(
        icon="https://avatars.githubusercontent.com/u/117074497?v=4"
        title="æ†‚é¬±ã®bï¼ˆï¿£â–½ï¿£ï¼‰d | SoftOSDev"
        subtitle="PCL.Electron çš„ä½œè€…"
        infoType="about"
        :btn="{ text: 'åŽ»æˆ‘çš„ç½‘ç«™çœ‹çœ‹ ðŸ‘€', link: 'https://borisy.bar/' }"
        @btn-click="() => openExternal('https://borisy.bar/')"
      )
      CardInfoItem(
        icon="https://avatars.githubusercontent.com/u/63146698?v=4"
        title="ä¸€åªä¼šé­”æ³•çš„æ¢¨ | AMagicPear"
        subtitle="PCL.Proto çš„ä½œè€…"
        infoType="about"
        :btn="{ text: 'åŽ»æˆ‘çš„ä¸»é¡µçœ‹çœ‹ ðŸ‘€', link: 'https://www.amagicpear.sbs/' }"
        @btn-click="() => openExternal('https://www.amagicpear.sbs/')"
      )
      CardInfoItem(
        icon="https://raw.githubusercontent.com/Realaf-Team/PCL.Electron.App/refs/heads/master/pcl-ele.ico"
        title="Plain Craft Launcher: Edition Electron"
        :subtitle="`å½“å‰ç‰ˆæœ¬ï¼š${version}`"
        infoType="about"
        :btn="{ text: 'GitHub ä»“åº“', link: 'https://github.com/Realaf-Team/PCL.Electron.App' }"
        @btn-click="() => openExternal('https://github.com/Realaf-Team/PCL.Electron.App')"
      )

  MyCard
    template(#title) ç‰¹åˆ«é¸£è°¢
    template(#content)
      CardInfoItem(
        icon="https://avatars.githubusercontent.com/u/165488354?s=200&v=4"
        title="PCL Community"
        subtitle="Plain Craft Launcher ç¤¾åŒº"
        infoType="about"
        :btn="{ text: 'GitHub ä¸»é¡µ', link: 'https://github.com/PCL-Community' }"
        @btn-click="() => openExternal('https://github.com/PCL-Community')"
      )
      CardInfoItem(
        icon="https://www.amagicpear.sbs/PCL.Proto/PCL.Proto.svg"
        title="PCL.Proto"
        subtitle="æœ¬é¡¹ç›®ä½¿ç”¨ PCL.Proto ä½œä¸ºå‰ç«¯"
        infoType="about"
        :btn="{ text: 'GitHub ä»“åº“', link: 'https://github.com/PCL-Community/PCL.Proto' }"
        @btn-click="() => openExternal('https://github.com/PCL-Community/PCL.Proto')"
      )

  MyCard
    template(#title) æ³•å¾‹ä¿¡æ¯
    template(#content)
      p æœ¬è½¯ä»¶ä¸ºåŽŸç‰ˆ PCL çš„ç¤¾åŒºè¡ç”Ÿç‰ˆæœ¬ä¹‹ä¸€ã€‚ä»“åº“ä»£ç å¼€æºï¼Œä½†å€˜è‹¥æ‚¨éœ€è¦ä½¿ç”¨æ­¤é¡¹ç›®æˆ–å‚è€ƒæœ¬ä»“åº“çš„æºç ï¼Œéœ€éµå®ˆ#[a(href="https://github.com/PCL-Community/PCL2-CE/blob/dev/LICENCE") ä¸ŽåŽŸç‰ˆ PCL ç›¸åŒçš„åè®®]ã€‚
      p æœ¬é¡¹ç›®ä¸»å¯¼ç¤¾åŒºä¸º PCL-Communityï¼Œå¦‚æžœä½ æœ‰å¯¹æ­¤é¡¹ç›®çš„å»ºè®®æˆ–åœ¨ä½¿ç”¨ä¸­é‡åˆ°é—®é¢˜ï¼Œæ¬¢è¿Žæ Issue å’Œ Pull Requestï¼

  MyCard(defaultFoldStatus='fold')
    template(#title) è®¸å¯ä¸Žç‰ˆæƒå£°æ˜Ž
    template(#content)
      PlainTextInfoItem
        template(#title) Vue.js - æ¸è¿›å¼ JavaScript æ¡†æž¶
        template(#content) MIT | #[a(href="https://github.com/vuejs/core" @click.prevent="() => openExternal('https://github.com/vuejs/core')") https://github.com/vuejs/core]
      PlainTextInfoItem
        template(#title) TypeScript - ç±»åž‹ï¼ç±»åž‹ï¼æˆ‘è¦ç±»åž‹ï¼
        template(#content) Apache License 2.0 | #[a(href="https://github.com/microsoft/TypeScript" @click.prevent="() => openExternal('https://github.com/microsoft/TypeScript')") https://github.com/microsoft/TypeScript]
      PlainTextInfoItem
        template(#title) Pug - æŽ’ç‰ˆç‰¹åˆ«å¥½çœ‹çš„æ¨¡æ¿å¼•æ“Ž
        template(#content) MIT | #[a(href="https://github.com/pugjs/pug" @click.prevent="() => openExternal('https://github.com/pugjs/pug')") https://github.com/pugjs/pug]
      PlainTextInfoItem
        template(#title) Vite - å¿«é€Ÿã€è½»é‡çº§çš„å¼€å‘å·¥å…·
        template(#content) MIT | #[a(href="https://github.com/vitejs/vite" @click.prevent="() => openExternal('https://github.com/vitejs/vite')") https://github.com/vitejs/vite]
      PlainTextInfoItem
        template(#title) Vue Router
        template(#content) MIT | #[a(href="https://github.com/vuejs/vue-router-next" @click.prevent="() => openExternal('https://github.com/vuejs/vue-router-next')") https://github.com/vuejs/vue-router-next]
      PlainTextInfoItem
        template(#title) PCL.Neo.Core
        template(#content) MIT | #[a(href="https://github.com/PCL-Community/PCL.Neo/" @click.prevent="() => openExternal('https://github.com/PCL-Community/PCL.Neo/')") https://github.com/PCL-Community/PCL.Neo/]
</template>